## Networking
- networkmanager

## NVIDIA
- block Nouveau: (generated by nvidia proprietary driver)
    - /usr/lib/modprobe.d/nvidia-installer-disable-nouveau.conf
    ```
    # generated by nvidia-installer
    blacklist nouveau
    options nouveau modeset=0
    ```
    - /etc/modprobe.d/nvidia-installer-disable-nouveau.conf
    ```
    # generated by nvidia-installer
    blacklist nouveau
    options nouveau modeset=0
    ```

## Nouveau
- mesa
- xf86-video-nouveau

### [Bumblebee](https://wiki.archlinux.org/index.php/Bumblebee)
- There two graphics cards (integrated, discrete)
- Install bumblebee, mesa, nVidia driver, xf86-video-intel
- `gpasswd -a user bumblebee`: In order to use Bumblebee, add regular user to bumblebee group
- `systemctl enable bumblebeed.service`: the `d` of `bumblebeed` means deamon

#### bbswitch
- bbswitch
- bbswitch-dkms for linux-lts


## Miscellaneous
- vim, gvim(clipboard)
    - `sudo -E vim file...`
- htop
- neofetch
- bind-tools for `nslookup`

## GUI
- xorg
- xorg-xinit: manually start oxrg by `startx`. append `exec startkde` to `.xinitrc`
- sddm. `sddm --example-config > /etc/sddm.conf` or `sddm --example-config > /etc/sddm.conf.d/sddm.conf`
- plasma
- [conky](https://github.com/brndnmtthws/conky/wiki) theme: Gotham
    - Default configure file: `~/.config/conky/conky.conf`

## Command
- coreutils
- tree

## ftp
- [CurlFtpFS](https://wiki.gentoo.org/wiki/CurlFtpFS#Unmounting)

## Wine
- https://brli.github.io/line/wine/2017/10/23/linux-wine-line.html
- init wine with win32 `LC_ALL=en_US.UTF8 WINEARCH=win32 WINEPREFIX=/path/to/wine winecfg`
- WINEPREFIX default to *~/.wine*
- LINE: need to install/run under win32

## Laptop
- xf86-input-libinput: trackpad (kde unsupport)
- libinput-gestures
> A user must be a member of the input group, i.e. run:
>    sudo gpasswd -a $USER input
> A user can start libinput-gestures from their DE, or run:
>    libinput-gestures-setup start
> A user can enable auto start of libinput-gestures, i.e. run:
>    libinput-gestures-setup autostart
> Configuration files are at:
>    /etc/libinput-gestures.conf (system wide default)
>    $HOME/.config/libinput-gestures.conf (optional per user)

- xf86-input-synaptics
- xorg-xinput: change settings at runtime.

## Application
- chromium
- [flameshot](https://github.com/lupoDharkael/flameshot#keyboard-shortcuts)
- kate
- konsole
- dolphin
- kompare
- gwenview: kde image viewer
- kcolorchooser: pick color on screen
- okular: pdf viewer
- virtualbox
- kwalletmanager: After change user passwd, kwallet might goes wrong (some info is recorded by kwallet, like wifi password)
- freeoffice (key: 261739496413)

## Bluetooth
- `sudo systemctl enable bluetooth`

## teamviewer - intel graphic
- To solve teamviewer client flicking, disable kernel parameter `i915.enable_psr`. Disable it by GRUB: edit line `GRUB_CMDLINE_LINUX_DEFAULT=" "` to `GRUB_CMDLINE_LINUX_DEFAULT="i915.enable_psr=0"` and re-generate grub.cfg with `# grub-mkconfig -o /boot/grub/grub.cfg` (check if the path to the config file *grub.cfg* is correct)


## [Bootloader](https://wiki.archlinux.org/index.php/GRUB)
- ESP (EFI System Partision) in `FAT32`
- `mount ESP /boot`: ESP, for example, `dev/sda1`
- `pacman -S grub efibootmgr`
- `grub-install --target=x86_64-efi --efi-directory=esp --bootloader-id=GRUB`: esp, mount point of ESP
- install `os-prober` and mount partitions contenting OS the run `grub-mkconfig -o /boot/grub/grub.cfg` to auto detect OS.

## Font
- Install all fonts: `pacman -S $(pacman -Ssq font)`

## gcin
- Add to `/etc/environment` (https://plus.google.com/+LichengHsu/posts/i8QcSRLci42)
    ```
    XMODIFIERS=@im=gcin
    GTK_IM_MODULE=gcin
    QT_IM_MODULE=gcin
    ```
- Executed by startup
    ```
    ~/.xprofile
    gcin &
    ```

## webserver
### php56
1. `aurman -S php56-apache`
2. Add `LoadModule php5_module modules/libphp56.so` after the existing LoadModule instructions in *httpd.conf*
3. Add `Include conf/extra/php56_module.conf` at the end of *httpd.conf*

Now apache runs php56. The main config file for php56 is */etc/php56/php.ini*
To enable mysqli, uncomment `extension=mysqli.so` in */etc/php56/php.ini*
    
## kernel
- `pacman -S linux-lts`

## powerline
- `pacman -S powerline powerline-vim powerline-fonts`
- [For bash](https://wiki.archlinux.org/index.php/Powerline#Bash)
    - Add to `.bashrc`:
      ```
      powerline-daemon -q
      POWERLINE_BASH_CONTINUATION=1
      POWERLINE_BASH_SELECT=1
      . /usr/lib/python3.6/site-packages/powerline/bindings/bash/powerline.sh
      ```
- [For tmux](https://github.com/powerline/powerline/issues/1417)
    - Add to `.tmux.conf`: `set -g default-terminal "screen-256color`
- [For vim](https://powerline.readthedocs.io/en/latest/usage/other.html#vim-statusline)
    - `pacman -S powerline-vim`
    - Add to `.vimrc`: `let g:powerline_pycmd="py3"` or `let g:powerline_pycmd="py"` if you have more than one version of python installed.

### powerline symbols fallbacked to normal charactor
[link](https://powerline.readthedocs.io/en/master/troubleshooting/linux.html#i-cant-see-any-fancy-symbols-whats-wrong)  
situation: instead of showing a triangle between segment, **|** is shown  
run `localectl set-locale en_US.UTF-8` then `powerline-daemon --replace`

### powerline configuration [(archlinux)](https://wiki.archlinux.org/index.php/Powerline#Customizing)
Tmux Example:
`mkdir -p ~/.config/powerline/themes/tmux/`  
`cp /usr/lib/python3.7/site-packages/powerline/config_files/themes/tmux/default.json ~/.config/powerline/themes/tmux/default.json`  
Then edit **~/.config/powerline/themes/tmux/default.json**

Bash Example:
`mkdir ~/.config/powerline/`  
```
config.json
-------------
{
	"ext": {
		"shell": {
			"theme": "default_leftonly"
		}
	}
}
```

> bash don't support right section!


## zip for KDE
- [ark](https://utils.kde.org/projects/ark/)
- unrar

## Checking Error
- `sudo systemctl --failed`
- `sudo journalctl -p 3 -xb`


## NTFS support
- ntfs-3g

## [Bluetooth](https://wiki.archlinux.org/index.php/Bluetooth)
- bluez
- bluez-utils or bluedevil for kde
- [Bluetooth might interfere with wifi](http://blog.commander.com/how-to-prevent-wifi-and-bluetooth-interference/)
### [Bluetooth headset](https://wiki.archlinux.org/index.php/Bluetooth_headset#Headset_via_Bluez5.2FPulseAudio)
- pulseaudio-bluetooth
- `systemctl enable bluetooth`
- System Setting --> Multimedia --> Audio Volume --> Device --> Set up default
- System Setting --> Multimedia --> Audio Volume --> Advencdd --> check Automatically switch...

## VPN
- openvpn

## SSH
- openssh

## helper
- [cheat](https://www.tecmint.com/cheat-command-line-cheat-sheet-for-linux-users/)
- [Explain Shell](https://www.tecmint.com/explain-shell-commands-in-the-linux-shell/)

## pacman
### -S --sync
- `pacman -S <package>...`
- `pacman -Syu`: Check all availible upgrades and upgrade.
- `pacman -Ss <string>...`: Search string in package name or package's desciption. `-s` support extended regular expressinos. Optionally `-q` show packages name only

### -Q --query
- `pacman -Qe`: All packages installed explicitly
- `pacman -Qd`: All packages installed as dependency
- `pacman -Qdt`: Check for orphans, that is, check for packages that were installed as a dependency but no other packages depend on them.
- `pacman -Qk [package]`: List files installed by a package.
- `pacman -Qo <file>`: Query to know the package a file belongs to.
- [Downgrading](https://wiki.archlinux.org/index.php/Downgrading_packages)
- [Cleaning the package cache](https://wiki.archlinux.org/index.php/Pacman#Cleaning_the_package_cache): `pacman -Sc`

### AUR
1. Download PKGBUILD from AUR
2. `makepkg -si` to install compile build package and install it.

## [sudo](https://wiki.archlinux.org/index.php/Sudo)
- Allow member of wheel sudo access by `EDITOR=vim visudo`
- Lock root account by `sudo passwd -l root`. Make sure you are sudoer
- Enable root login again: `sudo passwd root`, and set the password

